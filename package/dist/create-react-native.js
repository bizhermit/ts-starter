"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const child_process_1=require("child_process"),fs_extra_1=require("fs-extra"),path_1=__importDefault(require("path")),rimraf_1=__importDefault(require("rimraf")),common_1=require("./common"),createReactNative=async e=>{const t=path_1.default.basename(e);(0,child_process_1.spawnSync)("npx",["react-native","init",t,"--template","react-native-template-typescript"],{shell:!0,stdio:"inherit",cwd:e});const a=`__${t}`,r=path_1.default.join(e,a);await(0,fs_extra_1.rename)(path_1.default.join(e,t),r);const i=await(0,fs_extra_1.readdir)(r);for await(const t of i)await(0,fs_extra_1.move)(path_1.default.join(r,t),path_1.default.join(e,t));rimraf_1.default.sync(r);const o=await(0,common_1.getPackageJson)(e);o.version="0.0.0-alpha.0",await(0,common_1.savePackageJson)(e,o)};exports.default=createReactNative;