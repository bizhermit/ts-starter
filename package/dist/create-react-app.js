"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const fs_extra_1=require("fs-extra"),path_1=__importDefault(require("path")),common_1=require("./common"),createReactApp=async e=>{const t=path_1.default.basename(e),a=await(0,common_1.getPackageJson)(e);a.scripts={clean:"npx rimraf build",start:"npx react-scripts start","license-check":"npx rimraf CREDIT && npx license -o CREDIT --returnError",build:"npm run license-check && npm run clean && npx react-scripts build && npx cpx LICENSE build && npx cpx CREDIT build",test:"npx react-scripts test",eject:"npx react-scripts eject"},a.eslintConfig={extends:["react-app","react-app/jest"]},a.browserslist={production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]},await(0,common_1.savePackageJson)(e,a),(0,common_1.installLibs)(e,["react","react-dom","react-router-dom","styled-components","web-vitals","@bizhermit/react-sdk","@bizhermit/basic-utils"],["@bizhermit/license","@types/node","@types/react","@types/react-dom","@types/styled-components","cpx","node-sass","react-scripts","rimraf","typescript"]),await(0,common_1.generateTemplate)(e,"react-app");const r=async e=>{let a=(await(0,fs_extra_1.readFile)(e)).toString();a=a.replace(/__appName__/g,t),await(0,fs_extra_1.writeFile)(e,a)};await r(path_1.default.join(e,"public","index.html")),await r(path_1.default.join(e,"src/components/pages","index.tsx")),await r(path_1.default.join(e,"src/components","menu-bar.tsx"))};exports.default=createReactApp;